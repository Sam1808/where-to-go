## Яндекс-Афиша для Артема

### Описание
Данный репозиторий содержит код написанный на python3 по заданию Артема.
Задание заключалось в создании backend-кода (при существующем fronend`е от
[Devman](https://github.com/devmanorg/where-to-go-frontend/)),
по реализации подобия Яндекс-Афиши.

Заказчик человек творческий и любознательный, побывал везде где только можно в своем родном городе (кстати, не факт...) и хочет поделиться со всеми своим опытом, а если повезёт - монетизировать проект.

Сайт представляет собой карту с указанием различных **локаций**, после выбора которой появляется подробное описание указанного места и различные рекомендации, почему это конкретное место может заинтересовать посетителя.

Для решения задачи создан Django-проект,
подготовлено API для работы с данными, оптимизированна работа панели администратора.

#### 1. Запуск локального сервера:
Скачайте [код](https://github.com/Sam1808/where-to-go/archive/master.zip),
распакуйте его в [виртуальном окружении](https://pythoner.name/documentation/tutorial/venv).
Установите пакет зависимостей:

`pip install -r requirements.txt`

Создайте файл переменных `.env` для `settings.py` в каталоге `where_to_go`, пример:

``` python
# where_to_go/.env

SECRET_KEY="your_key"
STATIC_URL="/static_url/"
MEDIA_ROOT="media_folder/"
MEDIA_URL="/media_url/"
```
Для работы сайта нужна наполненная база дынных. В текущем случае по умолчанию используется стандартная SQLite база данных (БД) `db.sqlite3`.

Примените миграции для БД:  
`python manage.py migrate`  
Запустите локальный сервер:  
`python manage.py runserver`

Сайт будет доступен по локальному адресу:  
[127.0.0.1:8000](http://127.0.0.1:8000/)

#### 2. Работа с API сайта:

По просьбе Артема реализовано API, которое представляет собой ответ на http запрос
`http://127.0.0.1:8000/places/[id локации]/`

Ответ представлен в JSON формате:

```
title:	заголовок локации
imgs:
0:	относительный пусть к файлу изображения_0
1:	относительный пусть к файлу изображения_1
...
description_short:	краткое описание
description_long:     полное описание
coordinates:
lat:	широта
lng:	долгота
```
#### 3. Работа с панелью администратора:

Для работы с администраторской панелью не забудьте создать соответвующего пользователя:  
`python manage.py createsuperuser`  
После создания администратора перейдите по ссылке [127.0.0.1:8000/admin](http://127.0.0.1:8000/admin) и введите пару логин/пароль.  
В администраторской панели представлено приложение `PLACES` (да, да, те самые **локации**), в котором две модели
`Image` и собственноо `Place`.

Модель `Image` довольно скушная.., позволяет добавить картинку, привязать ее к определенной локации. Дополнительные поля `Позиция` и `Описание` вряд ли будут использоваться, потому как `Позиция` доступна через основную модель `Place` (и лучше именно там ее пользовать) , а
`Описание` нигде не применяется, необязательно и вообще служит простым информационным полем для увлекательной работы контент-менеджера. Зато, мы обеспечили
контент-менеджеру личное пространство, здорово же...

Модель `Place` гораздо интереснее - это сердце сайта. Модель дожержит детализированную информацию об определенной локации (локации, где *советует* побывать автор).

В первую очередь модель позволяет создать новую локацию и с помощью следующих полей дать ей подробное описание:  
`Название` - краткое название локации  
`Короткое описание` - это первое описание локации, которое увидит посетитель сайта  
`Полное описание` - несложно догадаться о назначении; в поле реализован редактор текста   
`Долгота` - это долгота  
`Широта` - это недолгота  
Дальше тоже интересно... располагаются картинки привязанные к конкретной локации, картинку можно двигать (именять порядок отображения), не говоря уже о добавлении и удалении. Так что,
 `CRUD` для нас не пустой звук. Все тоже самое можно делать с локацией целиком.
 Пожалуйста, не забывайте нажимать `Save` после все изменений.

 README.MD будет дополняться/обновляться в зависимости от функционала.
